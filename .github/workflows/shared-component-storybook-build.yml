name: Build shared component storybook
on:
    merge_group: {}
    pull_request: {}
    workflow_call: {}

permissions: {}

jobs:
    doc:
        name: Build storybook
        runs-on: ubuntu-latest
        steps:
            - name: ðŸ§® Checkout code
              uses: actions/checkout@8e8c483db84b4bee98b60c0593521ed34d9990e8 # v6

            - uses: pnpm/action-setup@41ff72655975bd51cab0327fa583b6e92b6d3061 # v4
            - name: ðŸ”§ Pnpm cache
              uses: actions/setup-node@395ad3262231945c25e8478fd5baf05154b1d79f # v6
              with:
                  cache: "pnpm"
                  node-version-file: package.json

            - name: ðŸ”¨ Install dependencies
              working-directory: packages/shared-components
              run: "pnpm install --frozen-lockfile"

            - name: ðŸ“– Build Storybook
              working-directory: packages/shared-components
              run: pnpm build:storybook

            - uses: actions/upload-artifact@b7c566a772e6b6bfb58ed0dc250532a479d7789f # v6
              with:
                  name: shared-components-storybook
                  path: packages/shared-components/storybook-static
                  retention-days: 1
